# Claude Code v2.0.60

Released: 2025-12-06 (estimated from changelog)

## Changes

- Added background agent support - agents run in the background while you work
- Added `--disable-slash-commands` CLI flag to disable all slash commands
- Added model name to "Co-Authored-By" commit messages
- Enabled `/mcp enable [server-name]` or `/mcp disable [server-name]` to quickly toggle MCP servers
- Updated Fetch to skip summarization for pre-approved websites
- VSCode: Added support for multiple terminal clients connecting to the IDE server simultaneously

## Background Agents - Deep Dive

Background Agents in v2.0.60 is part of three main components enabling Claude Code to work autonomously.

### Architecture Overview

Claude Code's autonomous work ecosystem consists of:

1. **Background Tasks** - Keep long-running processes active in background
2. **Subagents** - Specialized AI agents handling specific tasks independently
3. **Checkpoints** - Automatic code state tracking for safe reverting

### Background Tasks

Background long-running commands (dev servers, build tools, test runners):

**Usage:**
- `Ctrl+B` - Move running command to background (Tmux users press twice)
- Ask Claude directly to run in background
- On web, prefix message with `&`

**Features:**
- Commands execute asynchronously while Claude continues working
- Output retrievable via BashOutput tool
- Each background task tracked by unique ID
- Auto-cleanup on session exit

**Common use cases:**
- Webpack, Vite, and other build tools
- npm, yarn, pnpm package managers
- jest, pytest test runners
- Development servers
- Docker, Terraform long-running processes

### Subagents

Pre-configured AI assistants working independently:

**Configuration:**
- Separate **context window** (prevents main conversation pollution)
- Custom **system prompt**
- Restricted **tool access**
- **Model selection** (Sonnet, Opus, Haiku, or inherit)

**Built-in subagents:**
- **Explore subagent** - Fast read-only codebase analysis (Haiku model)
- **General-purpose subagent** - Multi-step tasks requiring exploration and modification (Sonnet)
- **Plan subagent** - Research and information gathering during plan mode

**Creating custom subagents:**

File-based (`.claude/agents/my-agent.md`):
```markdown
---
name: my-agent
description: When this subagent should be invoked
tools: Read, Grep, Glob, Bash
model: sonnet
---

You are a specialized AI assistant for [specific task].
```

Interactive (recommended):
```
/agents
[Select "Create New Agent"]
[Describe purpose and tools]
```

### Checkpoints

Automatically track Claude's edits for safe autonomous work:

**How it works:**
- Each user prompt creates a new checkpoint
- Persists across sessions (resumable conversations)
- Auto-cleaned after 30 days (configurable)

**Rewind functionality:**
`Esc + Esc` or `/rewind`:
- Restore code only (keep conversation)
- Restore conversation only (keep code changes)
- Restore both to previous checkpoint

### Limitations

- **Bash command changes not tracked** - `rm`, `mv`, `cp`, etc.
- **External changes not tracked** - Manual edits outside Claude Code
- **Not a replacement for version control** - Git still needed for permanent history
- **Background token usage** - Under $0.04 per session

### References

- [Enabling Claude Code to work more autonomously](https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously)
- [Interactive Mode Documentation](https://code.claude.com/docs/en/interactive-mode.md)
- [Subagents Documentation](https://code.claude.com/docs/en/sub-agents.md)
- [Checkpointing Documentation](https://code.claude.com/docs/en/checkpointing.md)

## Previous Version

- v2.0.59: `--agent` CLI flag, agent configuration setting
